{"ast":null,"code":"var _jsxFileName = \"/Users/markyu/Desktop/work/fetch-robotics/path_planner/client/src/components/board/board.component.js\";\nimport React from 'react';\nimport './board.styles.scss';\nimport Cell from '../cell/cell.component';\n\nclass Board extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.buildBlock = () => {\n      const {\n        width,\n        height,\n        start,\n        goal,\n        costs,\n        paths,\n        cellClickHandler\n      } = this.props;\n      const boardArray = new Array(height);\n\n      for (var i = 0; i < boardArray.length; i++) {\n        boardArray[i] = new Array(width);\n\n        for (var j = 0; j < boardArray[i].length; j++) {\n          boardArray[i][j] = {\n            isStart: false,\n            isGoal: false,\n            inPath: false,\n            value: 1\n          };\n        }\n      }\n\n      const boardJSX = [];\n\n      if (boardArray.length > 0) {\n        boardArray[start.i][start.j].isStart = true;\n        boardArray[goal.i][goal.j].isGoal = true;\n        costs.forEach(item => {\n          boardArray[item.i][item.j].value = item.value;\n        });\n        paths.forEach(item => {\n          boardArray[item.i][item.j].inPath = true;\n        });\n        boardArray.forEach((item1, i) => {\n          item1.forEach((item2, j) => {\n            if ((j + 1) % width === 0) boardJSX.push(React.createElement(\"span\", {\n              key: -i - 0.1,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 60\n              },\n              __self: this\n            }, React.createElement(Cell, {\n              key: (i + 1) * height + j,\n              isStart: item2.isStart,\n              isGoal: item2.isGoal,\n              value: item2.value,\n              inPath: item2.inPath,\n              handleClick: () => cellClickHandler({\n                i: i,\n                j: j,\n                value: item2.value\n              }),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }), React.createElement(\"br\", {\n              key: -i - 0.2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 69\n              },\n              __self: this\n            })));else boardJSX.push(React.createElement(Cell, {\n              key: (i + 1) * height + j,\n              isStart: item2.isStart,\n              isGoal: item2.isGoal,\n              value: item2.value,\n              inPath: item2.inPath,\n              handleClick: () => cellClickHandler({\n                i: i,\n                j: j,\n                value: item2.value\n              }),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 73\n              },\n              __self: this\n            }));\n          });\n        });\n      }\n\n      return boardJSX;\n    };\n  }\n\n  // Attach keyboard listener\n  componentDidMount() {\n    document.addEventListener('keydown', async e => {\n      const {\n        changeStart,\n        updateMovement,\n        start,\n        width,\n        height\n      } = this.props;\n\n      if (e.key === 'w' && start.i !== 0) {\n        await updateMovement(start.i - 1, start.j);\n        changeStart();\n      }\n\n      if (e.key === 'a' && start.j !== 0) {\n        await updateMovement(start.i, start.j - 1);\n        changeStart();\n      }\n\n      if (e.key === 's' && start.i !== height - 1) {\n        await updateMovement(start.i + 1, start.j);\n        changeStart();\n      }\n\n      if (e.key === 'd' && start.j !== width - 1) {\n        await updateMovement(start.i, start.j + 1);\n        changeStart();\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Board\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.buildBlock());\n  }\n\n}\n\n;\nexport default Board;","map":{"version":3,"sources":["/Users/markyu/Desktop/work/fetch-robotics/path_planner/client/src/components/board/board.component.js"],"names":["React","Cell","Board","Component","buildBlock","width","height","start","goal","costs","paths","cellClickHandler","props","boardArray","Array","i","length","j","isStart","isGoal","inPath","value","boardJSX","forEach","item","item1","item2","push","componentDidMount","document","addEventListener","e","changeStart","updateMovement","key","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './board.styles.scss';\n\nimport Cell from '../cell/cell.component';\n\nclass Board extends React.Component {\n    // Attach keyboard listener\n    componentDidMount() {\n        document.addEventListener('keydown', async (e) => {\n            const { changeStart, updateMovement, start, width, height } = this.props;\n            if(e.key === 'w' && start.i !== 0) {\n                await updateMovement(start.i-1, start.j);\n                changeStart();\n            }\n            if(e.key === 'a' && start.j !== 0) {\n                await updateMovement(start.i, start.j-1);\n                changeStart();\n            }\n            if(e.key === 's' && start.i !== height-1) {\n                await updateMovement(start.i+1, start.j);\n                changeStart();\n            }\n            if(e.key === 'd' && start.j !== width-1) {\n                await updateMovement(start.i, start.j+1);\n                changeStart();\n            }\n        });\n    }\n\n    buildBlock = () => {\n        const { width, height, start, goal, costs, paths, cellClickHandler } = this.props\n        const boardArray = new Array(height);\n        for (var i = 0; i < boardArray.length; i++) {\n            boardArray[i] = new Array(width);\n            for (var j = 0; j < boardArray[i].length; j++) {\n                boardArray[i][j] = {\n                    isStart: false,\n                    isGoal: false,\n                    inPath: false,\n                    value: 1,\n                }\n            }\n        }\n        const boardJSX = [];\n        if (boardArray.length > 0) {\n            boardArray[start.i][start.j].isStart = true;\n            boardArray[goal.i][goal.j].isGoal = true;\n\n            costs.forEach((item) => {\n                boardArray[item.i][item.j].value = item.value;\n            })\n\n            paths.forEach((item) => {\n                boardArray[item.i][item.j].inPath = true;\n            });\n\n            boardArray.forEach((item1, i) => {\n                item1.forEach((item2, j) => {\n                    if ((j + 1) % width === 0) boardJSX.push(\n                        <span key={-i - 0.1}>\n                            <Cell\n                                key={(i + 1) * height + j}\n                                isStart={item2.isStart}\n                                isGoal={item2.isGoal}\n                                value={item2.value}\n                                inPath={item2.inPath}\n                                handleClick={() => cellClickHandler({i: i, j: j, value: item2.value})}\n                            />\n                            <br key={-i - 0.2} />\n                        </span>\n                    );\n                    else boardJSX.push(\n                        <Cell\n                            key={(i + 1) * height + j}\n                            isStart={item2.isStart}\n                            isGoal={item2.isGoal}\n                            value={item2.value}\n                            inPath={item2.inPath}\n                            handleClick={() => cellClickHandler({i: i, j: j, value: item2.value})}\n                        />);\n                });\n            });\n        }\n        return boardJSX;\n    }\n\n    render() {\n    return(\n        <div className = 'Board' >\n            { this.buildBlock() }\n        </div>\n    );}\n};\n\nexport default Board;"]},"metadata":{},"sourceType":"module"}